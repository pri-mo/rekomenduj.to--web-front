function imgBroken(a){return $(a).parent().removeClass("cover__container").attr("data-error","Image was broken. I deleted it..."),a.remove(),!0}function updKids(){var a=document.getElementById("kidsNumber"),b=a.value,c=$("#kidsInputs .grid__container").length,d=-1*(c-b),e=0,f=new Date,g=f.getDate(),h=f.getMonth()+1,j=9>=h?"0"+h:h,k=f.getFullYear();if(0===b)$("#kidsInputs .grid__container").remove();else if(b>c){for(i=0;i<b-c;i++)e=1+c+i,$("#kidsInputs").append('<div class="grid__container grid--gutter" data-row="'+e+'">  <div class="grid__item grid__item--1of2">    <div class="input input--date input--show-label">      <input tabindex      name="user-baby'+e+'-bday" id="user-baby'+e+'-bday" type="date" max="'+k+"-"+j+"-"+g+'"      autocomplete="baby'+e+'-bday"      required      spellcheck="true"      placeholder="Podaj datę">      <label for="user-baby'+e+'-bday"      data-focused="'+e+'. Data urodzenia"      data-original="Podaj datę urodzenia"      data-invalid="To pole jest wymagane."></label>    </div>  </div>  <div class="grid__item grid__item--1of2">    <div class="input input--select input--show-label">      <select name="user-baby'+e+'-gender" id="user-baby'+e+'-gender" required>        <option value="" selected disabled>Podaj płeć</option>        <option value="K">Dziewczynka</option>        <option value="M">Chłopiec</option>      </select>      <label for="user-baby'+e+'-gender"      data-focused="Płeć dziecka"      data-original="Podaj płeć dziecka"      data-invalid="To pole jest obowiązkowe"></label>    </div>  </div></div>');$("#kidsInputs input, #kidsInputs select").each(function(){var a=this.name;$(this).val(localStorage.getItem(a)).updLabels()})}else d=-1*(c-b),$("#kidsInputs .grid__container").slice(d).remove()}function updPicks(){$(".answer--pick > input").each(function(){var a=$(this).is(":checked"),b=$(this).prop("disabled");a?$(this).parent().hasClass("no-card")?($(this).parent().addClass("picked"),$(this).parent().find(".input > input").focus()):($(this).parent().addClass("layout--card-3 paint--accent picked"),$(this).parent().find(".input > input").focus()):$(this).parent().hasClass("no-card")?($(this).parent().removeClass("picked"),$(this).parent().find(".input > input").off("focus")):($(this).parent().removeClass("layout--card-3 paint--accent picked"),$(this).parent().find(".input > input").off("focus")),b?$(this).parent().addClass("disabled"):$(this).parent().removeClass("disabled")})}!function(a){a.fn.modal=function(b){var c,d,e,f=a.extend({header:"",message:"",buttons:"close",lang:"pl"},b);c=""===f.message?"":'<p class="modal__msg">'+f.message+"</p>",d=""===f.header?"":'<h2 class="modal__head">'+f.header+"</h2>","close"===f.buttons?e='</div><div class="modal__close-button" id="modal__close" data-icon="z"></div>':"ok"===f.buttons&&(e='<a href="#" onclick="preventDefault" class="button" id="modal__close">Rozumiem</a></div>');var g=a("<div>",{id:"modal","class":"modal__overlay",html:'<div class="modal__body">'+d+c+e});return a(document).on("click touchstart",function(b){"modal__close"==b.target.id&&a("#modal").fadeOut(300,function(){a(this).remove()})}),this.append(g)}}(jQuery),function(a){a.fn.extend({updLabels:function(){a(this).each(function(){var b=a(this).next("label"),c=this.value;c?(a(this).addClass("input--used"),a(this).is(":invalid")?b.html(b.data("invalid")):b.html(b.data("focused"))):(a(this).removeClass("input--used"),b.html(b.data("original")),a(this).is(":valid")&&a(this).addClass("input--valid"))})},updCovers:function(){return this.each(function(){var b=a(this),c=a(this).parent(),d=this.height,e=this.width,f=d/e,g=c.height()/c.width(),h=f*g,i=f-g;f>=g?f>h&&g>=h&&i>0&&.164>i?b.hasClass("cover-height")||b.removeClass("cover--width").addClass("cover--height"):b.hasClass("cover-width")||b.removeClass("cover--height").addClass("cover--width"):b.hasClass("cover-height")||b.removeClass("cover--width").addClass("cover--height")})}})}(jQuery),$(function(){function a(a){a.matches?($("body").addClass("device--desktop"),$("body").removeClass("device--mobile")):($("body").removeClass("device--desktop"),$("body").addClass("device--mobile"))}$("body").removeClass("preload"),$("a[href]:not(.roll-out__trigger):not(.no-ripple)").click(function(a){var b=$(this).attr("href");"#"!==b&&(a.preventDefault(),setTimeout(function(){window.location.href=b},250))}),$(".social-reach__add-channel").on("click",function(){$("body").modal({header:"Udało się!",message:"Dodałeś społeczność",buttons:"ok"})}),$("img").each(function(){$(this).addClass("preload"),$(this).on("load",function(){$(this).removeClass("preload")})}),$("body").removeClass("preload"),$("img.image--cover").each(function(){$(this).parent().addClass("cover__container"),$(this).on("load",function(){$(this).updCovers()}).each(function(){this.complete&&$(this).load()})}),$(window).resize(function(){$("img.image--cover").each(function(){$(this).updCovers()})});var b,c,d,e;if($("a:not(.no-ripple), button:not(.no-ripple), .ripple").click(function(a){0===$(this).find(".ink").length&&$(this).append('<span class="ink"></span>'),b=$(this).find(".ink"),b.removeClass("animate"),b.height()||b.width()||(c=Math.max($(this).outerWidth(),$(this).outerHeight()),b.css({height:c,width:c})),d=a.pageX-$(this).offset().left-b.width()/2,e=a.pageY-$(this).offset().top-b.height()/2,b.css({top:e+"px",left:d+"px"}).addClass("animate")}),$(".input").click(function(a){0===$(this).find(".input__field").length&&$(this).append('<div class="input__field"></div>'),0===$(this).find(".input__field .ink").length&&$(this).find(".input__field").append('<span class="ink"></span>'),b=$(this).find(".input__field .ink"),b.removeClass("animate"),b.height()||b.width()||(c=Math.max($(this).outerWidth(),$(this).outerHeight()),b.css({height:c,width:c})),d=a.pageX-$(this).offset().left-b.width()/2,e=a.pageY-$(this).offset().top-b.height()/2,b.css({top:e+"px",left:d+"px"}).addClass("animate")}),$(document).on("focus change paste propertychange","input, select, textarea",function(a){$(this).next("label");$(this).on("focusout",function(){$(this).updLabels()}),$(this).hasClass("input--used")&&$(this).removeClass("input--used")}),$(window).on("change pageshow",function(a){$("input, select, textarea").updLabels()}),$(document).on("change","input, select, textarea",function(){var a=this.name,b=this.value;localStorage.setItem(a,b)}),localStorage.length>0&&($("input, select, textarea").each(function(){var a=this.name;$(this).val(localStorage.getItem(a)).addClass("input--used")}),$("#welcomeName").html(localStorage.getItem("user-name"))),$("textarea").autogrow({horizontal:!1,vertical:!0,flickering:!1}),$("#showPass").on("click",function(){return $(this).toggleClass("showing"),$("#password").is("[type=password]")?$("#password").attr("type","text").focus():$("#password").attr("type","password").focus(),!1}),$(".roll-out__trigger").on("click",function(a){return a.preventDefault(),$(this).parent().toggleClass("roll-out--opened"),!1}),$("#triggerLogo").on("click",function(a){return a.preventDefault(),window.location="/",!1}),matchMedia){var f=window.matchMedia("(min-width: 768px)");f.addListener(a),a(f)}$(document).on("ready",function(a){$("#kidsNumber").length&&updKids()}),$(document).on("change","#kidsNumber",function(){updKids()})}),$(function(){function a(){$("header").hasClass("nav--showMenu")?c():b()}function b(){$("header").removeClass("hidden").addClass("nav--showMenu"),$("body, html").addClass("content--toSide"),window.setTimeout(function(){$("body").addClass("page--noScroll")},10),$("header nav a").attr("tabindex","")}function c(){$("body, html").removeClass("content--toSide"),window.setTimeout(function(){$("body").removeClass("page--noScroll")},10),$("header").removeClass("nav--showMenu"),$("header nav a").attr("tabindex","-1"),$("#triggerMenu").blur()}var d=0,e=36,f=10;$(window).on("scroll load",function(){if(!$("header").hasClass("nav--showMenu")){var a=$(this).scrollTop(),b=Math.abs(a-d);a>e?($("header").hasClass("scrolled")||$("header").addClass("scrolled"),b>=f&&(a>d?$("header").hasClass("hidden")||$("header").addClass("hidden"):$("header").hasClass("hidden")&&$("header").removeClass("hidden"))):($("header").removeClass("scrolled"),0>=a&&$("header").removeClass("hidden")),window.innerHeight+window.scrollY>=document.body.offsetHeight&&$("body:not(.template--poll) header").removeClass("hidden"),d=a}}),$("#triggerMenu").on("click touchstart",function(b){a(),b.preventDefault()}),$("header nav").on("click touchstart",function(a){a.stopPropagation()}),$("header .nav--secondary").on("click touchstart",function(a){$("header").hasClass("hidden")&&($("header").removeClass("hidden"),a.preventDefault())}),$("main").on("click touchstart",function(a){$("header").hasClass("nav--showMenu")&&(c(),a.preventDefault())}),$("body").keydown(function(b){$("#triggerMenu").is(":focus")&&(13!==b.keyCode&&32!==b.keyCode||(a(),b.preventDefault())),27===b.keyCode&&(a(),b.preventDefault())})}),$(function(){$(document).on("change propertychange",".answer--pick > input",function(a){var b=$(".poll__answers").data("maxPick");console.log(b),$(":checked").length==b?($(".answer--pick > input").prop("disabled","disabled"),$(":checked").removeAttr("disabled")):$(".answer--pick > input").removeAttr("disabled"),updPicks()}).change(),$(".answer--input input[type=text], .answer--input input[type=number]").on("propertychange change click keyup input paste",function(){var a=this.value;""===a||"0"==a||null===a?($(this).parent().siblings("input[type=checkbox], input[type=radio]").removeAttr("checked"),updPicks()):($(this).parent().siblings("input[type=checkbox], input[type=radio]").prop("checked",!0),updPicks())}),$(".input--number").each(function(){var a,b,c=$(this).find(".number__more"),d=$(this).find(".number__less"),e=$(this).find("input[type=number], input[type=tel]"),f=Number(e.val()),g=e.attr("min"),h=e.attr("max"),i=e.attr("step")?Number(e.attr("step")):1,j=$(this).find(".number__suffix"),k=j.data();Math.abs(f)>=5?j.text(k.suffixFivemore):Math.abs(f)>=2&&Math.abs(f)<=4?j.text(k.suffixMaxfive):1==Math.abs(f)?j.text(k.suffixSingle):j.text(k.suffixFivemore),c.on("touchstart mousedown",function(c){e.addClass("input--used"),f=Number(e.val()),h>f||!h?(f+=i,e.val(f).change(),c.preventDefault(),b=setTimeout(function(){a=setInterval(function(){h>f||!h?(f+=i,e.val(f).change()):(f=h,e.val(f).change())},100)},1e3)):(f=h,e.val(f).change())}),d.on("touchstart mousedown",function(c){f=Number(e.val()),f>g||!g?(f-=i,e.val(f).change(),c.preventDefault(),b=setTimeout(function(){a=setInterval(function(){f>g||!g?(f-=i,e.val(f).change()):(f=g,e.val(f).change())},100)},1e3)):(f=g,e.val(f).change())}),$(document).on("touchend mouseup",function(c){clearInterval(a),clearTimeout(b)}),e.on("change paste keyup",function(){f=Number(e.val()),Math.abs(f)>=5?j.text(k.suffixFivemore):Math.abs(f)>=2&&Math.abs(f)<=4?j.text(k.suffixMaxfive):1==Math.abs(f)?j.text(k.suffixSingle):j.text(k.suffixFivemore)})}),$(".answer--image").longpress(function(){var a=$(this).data(),b='<img src="'+a.fullsize+'" alt="">';$("body").modal({message:b})}),$(".answer--drag").draggable({addClasses:!1,zIndex:1111,revert:!0,revertDuration:150,drag:function(a,b){$(this).addClass("layout--card-4 picked")},stop:function(a,b){$(this).removeClass("layout--card-4 picked")}}),$(".sort-bucket--source").sortable({items:".answer--sort",appendTo:$(this),classes:!1,placeholder:"answer--sort__placeholder",tolerance:"pointer",forcePlaceholderSize:!0,start:function(a,b){$(b.item).addClass("layout--card-4 picked")},sort:function(a,b){var c=$(b.item).position().top;$(b.item).css("top",c+$(window).scrollTop())},stop:function(a,b){$(b.item).removeAttr("style").removeClass("layout--card-4 picked")}}).disableSelection(),$(".answer--sort").disableSelection(),$(".drag-bucket--target, .drag-bucket--source").droppable({addClasses:!1,hoverClass:"get-ready",drop:function(a,b){$(b.draggable).removeAttr("style").prependTo(this)},activate:function(a,b){$(b.draggable).addClass("layout--card-4 picked"),$(".drag-bucket--target, .drag-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")})},deactivate:function(a,b){$(b.draggable).removeClass("layout--card-4 picked"),$(".drag-bucket--target, .drag-bucket--source").each(function(){$(this).children().length>1?($(this).addClass("has-content"),$(this).find(".placeholder").appendTo(this)):$(this).removeClass("has-content")})}}),$(".drag-bucket--target, .drag-bucket--source, .sort-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")}),$(".slider").each(function(a){var b=$(this),c=b.data("preffix")?b.data("preffix"):"",d=b.data("suffix")?b.data("suffix"):"",e={slide:function(a,e){var f=e.value;b.siblings(".slider__value").val(c+f+d)}},f={slide:function(a,e){var f=e.values;b.siblings(".slider__value").val(c+f[0]+d+" — "+c+f[1]+d)}},g={value:b.data("sDefault"),min:b.data("sMin"),max:b.data("sMax"),step:b.data("sStep")},h={range:"min"},i={range:!0,values:b.data("sDefault"),min:b.data("sMin"),max:b.data("sMax"),step:b.data("sStep")},j={};if(b.hasClass("slider--snapping")&&(j=$.extend(j,g,e)),b.hasClass("slider--value-range")&&(j=$.extend(j,h)),b.hasClass("slider--range")&&(j=$.extend(j,i,f)),b.hasClass("slider--select")){var k=b.siblings("select"),l=k.children().size();j={range:"min",value:k[0].selectedIndex+1,min:1,max:l,step:1,slide:function(a,b){k[0].selectedIndex=b.value-1}},k.attr("disabled","disabled")}b.slider(j),b.hasClass("slider--range")?b.siblings(".slider__value").val(c+b.slider("values",0)+d+" — "+c+b.slider("values",1)+d):b.siblings(".slider__value").val(c+b.slider("value")+d)})});